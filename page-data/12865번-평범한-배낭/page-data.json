{"componentChunkName":"component---src-templates-post-jsx","path":"/12865번-평범한-배낭/","result":{"data":{"site":{"siteMetadata":{"title":"ckdhkdwns"}},"markdownRemark":{"id":"211424b0-1492-59ca-b35d-185db0d537c3","excerpt":"배낭 문제 배낭 문제(knapsack problem)는 조합 최적화 문제의 일종입니다. 간략하게 말하자면, 담을 수 있는 최대 무게가 정해진 배낭과 함께 각각의 무게와 가치가 주어진 아이템의 집합이 주어졌을 때, 배낭에 담은 아이템들의 가치의 합이 최대가 되도록 하는 아이템들의 부분집합을 찾는 문제입니다. 배낭 문제에는 분할 가능한 배낭 문제(fracti…","html":"<h2>배낭 문제</h2>\n<p><strong>배낭 문제(knapsack problem)</strong>는 조합 최적화 문제의 일종입니다. 간략하게 말하자면, 담을 수 있는 최대 무게가 정해진 배낭과 함께 각각의 무게와 가치가 주어진 아이템의 집합이 주어졌을 때, 배낭에 담은 아이템들의 가치의 합이 최대가 되도록 하는 아이템들의 부분집합을 찾는 문제입니다.<br>\n배낭 문제에는 <em>분할 가능한 배낭 문제(fractional knapsack problem)</em>와 <em>0-1 배낭 문제(0-1 Knapsack Problem)</em>가 있습니다. 이 문제는 <strong>0-1 배낭 문제</strong>로 그리디 알고리즘으로는 최적해를 찾을 수 없습니다. 따라서, 동적 계획법, 백트래킹 등의 조합 최적화 문제의 풀이 방법으로 풀어야 합니다. - 나무위키</p>\n<h2>풀이</h2>\n<p>아래는 동적 계획법으로 풀이한 과정입니다. 예제의 테스트 케이스를 통해 설명하겠습니다. </p>\n<h3>dp 배열 초기화</h3>\n<p>각각의 물건에 순서대로 번호를 매깁니다. 이후, (n+1) x (k+1) 크기의 2차원 리스트를 생성하고 모든 값을 0으로 초기화합니다. 여기서 <u>n은 물건의 번호</u>, <u>k는 배낭의 최대 무게</u>입니다. 각각의 값은 배낭 최대 무게가 k 일 때 n번 물건을 담은 경우의 최대 가치를 의미합니다. </p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">dp[n][k]</th>\n<th align=\"center\">k = 1</th>\n<th align=\"center\">k = 2</th>\n<th align=\"center\">k = 3</th>\n<th align=\"center\">k = 4</th>\n<th align=\"center\">k = 5</th>\n<th align=\"center\">k = 6</th>\n<th align=\"center\">k = 7</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">1번 물건 (6, 13)</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n</tr>\n<tr>\n<td align=\"center\">2번 물건 (4, 8)</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n</tr>\n<tr>\n<td align=\"center\">3번 물건 (3, 6)</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n</tr>\n<tr>\n<td align=\"center\">4번 물건 (5, 12)</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n</tr>\n</tbody>\n</table>\n<h3>1번 물건을 가방에 넣는 경우</h3>\n<p>1번 물건은 무게가 6입니다. 그러므로 k = 6, k = 7인 경우에만 가방에 물건을 넣을 수 있습니다. dp[1][6]와 dp[1][7]의 값을 13으로 변경합니다.</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">dp[n][k]</th>\n<th align=\"center\">k = 1</th>\n<th align=\"center\">k = 2</th>\n<th align=\"center\">k = 3</th>\n<th align=\"center\">k = 4</th>\n<th align=\"center\">k = 5</th>\n<th align=\"center\">k = 6</th>\n<th align=\"center\">k = 7</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">1번 물건 (6, 13)</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">13</td>\n<td align=\"center\">13</td>\n</tr>\n<tr>\n<td align=\"center\">2번 물건 (4, 8)</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n</tr>\n<tr>\n<td align=\"center\">3번 물건 (3, 6)</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n</tr>\n<tr>\n<td align=\"center\">4번 물건 (5, 12)</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n</tr>\n</tbody>\n</table>\n<h3>2번 물건을 가방에 넣는 경우</h3>\n<p>2번 물건은 무게가 4입니다. 그러므로 k = 4인 경우부터 가방에 물건을 넣을 수 있습니다. 단 k = 6일 때와 k = 7일 때는 1번 물건을 넣은 경우가 가치가 더 크므로 dp[2][4]와 dp[2][5]의 값은 8로, dp[2][6]와 dp[2][7]의 값은 13으로 변경합니다.</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">dp[n][k]</th>\n<th align=\"center\">k = 1</th>\n<th align=\"center\">k = 2</th>\n<th align=\"center\">k = 3</th>\n<th align=\"center\">k = 4</th>\n<th align=\"center\">k = 5</th>\n<th align=\"center\">k = 6</th>\n<th align=\"center\">k = 7</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">1번 물건 (6, 13)</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">13</td>\n<td align=\"center\">13</td>\n</tr>\n<tr>\n<td align=\"center\">2번 물건 (4, 8)</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">8</td>\n<td align=\"center\">8</td>\n<td align=\"center\">13</td>\n<td align=\"center\">13</td>\n</tr>\n<tr>\n<td align=\"center\">3번 물건 (3, 6)</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n</tr>\n<tr>\n<td align=\"center\">4번 물건 (5, 12)</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n</tr>\n</tbody>\n</table>\n<h3>3번 물건을 가방에 넣는 경우</h3>\n<p>3번 물건은 무게가 3이므로 k = 3인 경우부터 가방에 물건을 넣을 수 있습니다. 2번 물건을 가방에 넣는 경우와 같은 방법으로 값들을 변경합니다.<br>\n단, k = 7의 경우 <u>k = 7일 때 2번 물건을 넣는 경우의 가치</u>보다 <u>k = 4일 때 2번 물건을 넣는 가치 + 3번 물건의 가치</u>가 더 큽니다. (13 &#x3C; 8 + 6) 점화식으로 표현하면 아래와 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># weight = 무게, value = 가치</span>\ndp<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">max</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> dp<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">7</span><span class=\"token operator\">-</span>weight<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> value<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>dp[3][7]의 값을 14로 변경합니다.</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">dp[n][k]</th>\n<th align=\"center\">k = 1</th>\n<th align=\"center\">k = 2</th>\n<th align=\"center\">k = 3</th>\n<th align=\"center\">k = 4</th>\n<th align=\"center\">k = 5</th>\n<th align=\"center\">k = 6</th>\n<th align=\"center\">k = 7</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">1번 물건 (6, 13)</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">13</td>\n<td align=\"center\">13</td>\n</tr>\n<tr>\n<td align=\"center\">2번 물건 (4, 8)</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">8</td>\n<td align=\"center\">8</td>\n<td align=\"center\">13</td>\n<td align=\"center\">13</td>\n</tr>\n<tr>\n<td align=\"center\">3번 물건 (3, 6)</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">8</td>\n<td align=\"center\">8</td>\n<td align=\"center\">13</td>\n<td align=\"center\">14</td>\n</tr>\n<tr>\n<td align=\"center\">4번 물건 (5, 12)</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n<td align=\"center\">0</td>\n</tr>\n</tbody>\n</table>\n<p>이 점화식을 통해 모든 경우의 가치합의 최댓값을 구할 수 있습니다.</p>\n<h2>코드</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 12865번 평범한 배낭</span>\n<span class=\"token keyword\">import</span> sys\n\nn<span class=\"token punctuation\">,</span> k <span class=\"token operator\">=</span> <span class=\"token builtin\">map</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> sys<span class=\"token punctuation\">.</span>stdin<span class=\"token punctuation\">.</span>readline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\nthings <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  w<span class=\"token punctuation\">,</span> v <span class=\"token operator\">=</span> <span class=\"token builtin\">map</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> sys<span class=\"token punctuation\">.</span>stdin<span class=\"token punctuation\">.</span>readline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  things<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>w<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\ndp <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>k <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> _ <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>n <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> n <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> k <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> j <span class=\"token operator\">&lt;</span> things<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n      dp<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> dp<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span>\n      <span class=\"token keyword\">continue</span>\n    dp<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token builtin\">max</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> dp<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token operator\">-</span>things<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> things<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    \n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dp<span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"title":"백준 12865번 - 평범한 배낭","date":"May 09, 2023","update":null,"tags":["python","dynamic programing"],"series":"Baekjoon"},"fields":{"slug":"/12865번-평범한-배낭/","readingTime":{"minutes":4.985}}},"seriesList":{"edges":[{"node":{"id":"376b1c3a-a145-5443-ba01-4dbe382929cc","fields":{"slug":"/2110번-공유기-설치/"},"frontmatter":{"title":"백준 2110번 - 공유기 설치"}}},{"node":{"id":"de041a93-b2d9-57d5-8da3-d9e5712918c2","fields":{"slug":"/1389번-케빈-베이컨의-6단계-법칙/"},"frontmatter":{"title":"백준 1389번 - 케빈 베이컨의 6단계 법칙"}}},{"node":{"id":"f0ffb10c-d219-5cd1-8255-f1800d078342","fields":{"slug":"/1309번-동물원/"},"frontmatter":{"title":"백준 1309번 - 동물원"}}},{"node":{"id":"09c6279b-ab5c-5526-8bad-50a80101906f","fields":{"slug":"/1038번-감소하는-수/"},"frontmatter":{"title":"백준 1038번 - 감소하는 수"}}},{"node":{"id":"b41a61e5-0952-5829-b572-ba5809701aec","fields":{"slug":"/1541번-잃어버린-괄호/"},"frontmatter":{"title":"백준 1541번 - 잃어버린 괄호"}}},{"node":{"id":"83cb17cb-586e-5695-a214-f9b3dec015c3","fields":{"slug":"/14502번-연구소/"},"frontmatter":{"title":"백준 14502번 - 연구소"}}},{"node":{"id":"bd719565-5af9-5447-b2bd-06f061b5d856","fields":{"slug":"/10026번-적록색약/"},"frontmatter":{"title":"백준 10026번 - 적록색약"}}},{"node":{"id":"f5cb47e4-3119-51bb-b572-ae3a7e0e5116","fields":{"slug":"/1916번-최소비용-구하기/"},"frontmatter":{"title":"백준 1916번 - 최소비용 구하기"}}},{"node":{"id":"62d7fe39-c1b4-5bd0-a62f-7d545dba554c","fields":{"slug":"/7569번-토마토/"},"frontmatter":{"title":"백준 7569번 - 토마토"}}},{"node":{"id":"2e5f57b2-e31c-57fb-842c-a4774095d227","fields":{"slug":"/1697번-숨바꼭질/"},"frontmatter":{"title":"백준 1697번 - 숨바꼭질"}}},{"node":{"id":"9406a112-3c7f-5e08-aaba-1ebe9e350bee","fields":{"slug":"/12851번-숨바꼭질2/"},"frontmatter":{"title":"백준 12851번 - 숨바꼭질2"}}},{"node":{"id":"782278d2-8484-5221-8518-f0eec8b1a501","fields":{"slug":"/1068번-트리/"},"frontmatter":{"title":"백준 1068번 - 트리"}}},{"node":{"id":"85015140-3a22-5cbf-9a8e-ee68c78e41e9","fields":{"slug":"/2579번-계단-오르기/"},"frontmatter":{"title":"백준 2579번 - 계단 오르기"}}},{"node":{"id":"cbe23adf-e766-588b-ab57-ab866c078d51","fields":{"slug":"/1058번-친구/"},"frontmatter":{"title":"백준 1058번 - 친구"}}},{"node":{"id":"d0f7c30c-93b9-5286-b90d-6b3f807a6e15","fields":{"slug":"/2467번-용액/"},"frontmatter":{"title":"백준 2467번 - 용액"}}},{"node":{"id":"875d28fe-5bef-5192-a8d5-c32bf808fdd1","fields":{"slug":"/1072번-게임/"},"frontmatter":{"title":"백준 1072번 - 게임"}}},{"node":{"id":"2797eec7-9d20-55a5-8cc5-07c27851dc2c","fields":{"slug":"/1002번-터렛/"},"frontmatter":{"title":"백준 1002번 - 터렛"}}},{"node":{"id":"211424b0-1492-59ca-b35d-185db0d537c3","fields":{"slug":"/12865번-평범한-배낭/"},"frontmatter":{"title":"백준 12865번 - 평범한 배낭"}}}]},"previous":{"fields":{"slug":"/1002번-터렛/"},"frontmatter":{"title":"백준 1002번 - 터렛"}},"next":null},"pageContext":{"id":"211424b0-1492-59ca-b35d-185db0d537c3","series":"Baekjoon","previousPostId":"2797eec7-9d20-55a5-8cc5-07c27851dc2c","nextPostId":null}},"staticQueryHashes":[]}